\documentclass[CJKmath,a4paper,10pt]{ctexart}
\usepackage{geometry}
\geometry{inner=1.5cm,outer=1.5cm,top=2.45cm,bottom=1cm}
\usepackage[dvipsnames,svgnames,x11names,table]{xcolor}


\RequirePackage{amssymb} % Must be loaded before unicode-math
\RequirePackage{unicode-math} % Math fonts in xetexorluatex
%\setmathfont{texgyrepagella-math.otf}
\setmainfont{STIXTwoText}[
	Path=./fonts/STIXTwoText/,
  Extension = .otf,
  UprightFont = STIXTwoMath-Regular,
  BoldFont = STIXTwoText-SemiBold,
  ItalicFont = STIXTwoText-Italic,
  BoldItalicFont = STIXTwoText-BoldItalic,
]
\setmathfont{STIXTwoMath-Regular.otf}

\usepackage{tikz,calc}
\usetikzlibrary{calc,arrows,shadows.blur,tikzmark}
% By default all math in TikZ nodes are set in inline mode. Change this to
% displaystyle so that we don't get small fractions.
\everymath{\displaystyle}

\usepackage[most]{tcolorbox}
\tcbuselibrary{breakable, skins,theorems}


\usepackage{xkeyval}
\makeatletter 
\usepackage{amsmath,amssymb,amsthm}
\usepackage{xkeyval} 
\usepackage{zhlipsum}
\tcbset{
    common/.style={
      fontupper=\rmfamily,
      lower separated=true,
      coltitle=black,
      colback=gray!5,
      boxrule=0.5pt,
      fonttitle=\bfseries,
      enhanced,
      breakable,
      top=8pt,
      before skip=8pt,
      attach boxed title to top left={yshift=-0.05in,xshift=0.15in},
      boxed title style={
      	boxrule=0pt,
        colframe=black,
        arc=0pt,
        outer arc=0pt,
        drop fuzzy shadow
     	},
      separator sign={.},
      drop fuzzy shadow
     },
     litistyle/.style={  %例题风格
     	common,
      colframe=gray,% 
      colback=white,
      colbacktitle=Gold,
      sharp corners,rounded corners=southeast,
      overlay unbroken and last={
      \node[anchor=south east, outer sep=0pt] at (\linewidth-width,0){\textcolor{black!60}{$\blacksquare$}};}
         },
% -----------------------------------------------------------------------------
% Explanation: BreakableBox@title key
% The following defines a pgfkeys/tcolorbox key named
%   "BreakableBox@title" which accepts 2 arguments (see 
%   "/.code n args={2}"). When the key is used like
%   "BreakableBox@title={<env>}{<optTitle>}" the code below is executed
%   with #1=<env> and #2=<optTitle>.
%
% Purpose:
% - If the second argument (#2) is empty, set the tcolorbox title to
%     \csname <env>name\endcsname~\thetcbcounter
%   which expands to the environment name (e.g. "liti" -> \litiname)
%   followed by the current counter value.
% - If the second argument is provided, append " (#2)" to the title.
%
% Notes:
% - This relies on \makeatletter being active so that keys with '@'
%   are allowed in control sequence names.
% - \ifblank is used to test whether #2 is empty; ensure the package
%   that provides \ifblank (for example, etoolbox or xparse) is loaded
%   earlier if necessary.
% - Example usage inside the code: \tcbset{title={...}} sets the
%   tcolorbox title key accordingly.
%
         BreakableBox@title/.code n args={2}
              {
                \ifblank{#2}
                  {\tcbset{title={\csname #1name\endcsname~\thetcbcounter}}}
                  {\tcbset{title={\csname #1name\endcsname~\thetcbcounter\ (#2)}}}
              },
}      
  % define an internal control sequence \newbreakablebox for fancy mode's newtheorem
  % #1 is the environment name, #2 is the prefix of label, #3 is the style
  % style: thmstyle, defstyle, prostyle
  % e.g. \newbreakablebox{theorem}{thm}{thmstyle}
  % will define two environments: numbered ``theorem'' and no-numbered ``theorem*''
  % WARNING FOR MULTILINGUAL: this cs will automatically find \theoremname's definition,
  % WARNING FOR MULTILINGUAL: it should be defined in language settings.
  \newcommand{\newbreakablebox}[3]{
    \ifcsundef{#1name}{%
      % define a default name if not defined before
      \tcbset{BreakableBox@title/.code n args={2}{\tcbset{title={use newcommand define #1name}}} }
    }{\relax}
    \DeclareTColorBox[auto counter,number within=section]{#1}{ g o t\label g }{
        common, % use common style
        #3, % use the style passed in
        IfValueTF={##1}
          {BreakableBox@title={#1}{##1}}
          {
            IfValueTF={##2}
            {BreakableBox@title={#1}{##2}}
            {BreakableBox@title={#1}{}}
          },
        IfValueT={##4}
          {
            IfBooleanTF={##3}
              {label={##4}}
              {VIVID@label={#2}{##4}}
          }
      }
    \DeclareTColorBox{#1*}{ g o }{
        common,#3,
        IfValueTF={##1}
          {BreakableBox@title={#1}{##1}}
          {
            IfValueTF={##2}
            {BreakableBox@title={#1}{##2}}
            {BreakableBox@title={#1}{}}
          },
      }
  }
  % define several environment 
  % we define headers like \definitionname before
  \newcommand{\litiname}{例题}
  \newbreakablebox{liti}{def}{litistyle}
  
  
%补充内容
%%设置新字体
%%定义带圈数字命令
\newfontfamily{\nmfont}{circlenumber}
[%
Extension=.otf,
Path=./fonts/]

\newcommand{\quan}[1]{{\nmfont \symbol{#1}}}
\newcommand{\kk}[1]{\quan{\numexpr32+#1}}%\kk{<参数范围1-95>}96、97、98、99分别用\quan{196} \quan{197} \quan{199} \quan{201}

%脚注使用带圈数字
\newcommand*\kkctr[1]{%
  \protect\kk{\number\numexpr\value{#1}\relax}}
\renewcommand*\thefootnote{\textcolor{black}{\kkctr{footnote}}}

%%无悬挂脚注格式
\renewcommand\@makefntext[1]{%
  \setlength\parindent{2\ccwd}\selectfont
  \@thefnmark\ #1}

%修改\part，使其不分页
\def\@endpart{%
	\thispagestyle{empty}
  \vskip40\p@%
   \@afterheading}



\RequirePackage{enumitem}
%\newenvironment{myenum}{\begin{enumerate}[label=\protect\kk{\arabic*}]\small}{\end{enumerate}}%
\setlist{noitemsep}
\setlist[enumerate, 1]{label=\protect\kk{\arabic*},itemsep=0.5ex}  
\makeatother



%%%marker环境
\newtcolorbox{marker}[1][]{enhanced,before skip=2mm,
	after skip=3mm,fontupper=\rmfamily,
	boxrule=0.4pt,left=5mm,right=2mm,top=1mm,bottom=1mm,
	colback=yellow!50,colframe=yellow!20!black,
	sharp corners,rounded corners=southeast,
	arc is angular,arc=3mm,underlay={%
		\path[fill=tcbcolback!80!black] ([yshift=3mm]interior.south east)--++(-0.4,-0.1)--++(0.1,-0.2);
		\path[draw=tcbcolframe,shorten <=-0.05mm,shorten >=-0.05mm] ([yshift=3mm]interior.south east)--++(-0.4,-0.1)--++(0.1,-0.2);
		\path[fill=yellow!50!black,draw=none] (interior.south west) rectangle node[white]{\Huge\bfseries !} ([xshift=4mm]interior.north west);
	},
	drop fuzzy shadow,#1
}

\usepackage{exam-zh-choices}
\usepackage{fontawesome5}
\begin{document}
\section{数学}
%\begin{liti}
%（2024河南月考）f(x)=x|x|，满足f(2x-1)+f(x)$\leq$0
%\end{liti}
%\begin{liti}
%（2024甘肃月考）$函数y=f(x)是定义在[-2,2]上的单调减函数，且f(a+1)<f(2a)，实数a的范围是$
%
%\end{liti}

\begin{liti}
（2024福建月考）$函数f(x)是定义域为(-1,1)上的单调减函数，若f(x)图像关于点(0,1)对称，则满足f(x-1)<f(x)<2的x的取值范围是$
\tcblower\small\kaishu
解抽象不等式，利用的是两个基本性质：
\begin{enumerate}
\item 奇偶性
\item 单调性
\end{enumerate}
现在函数关于(0,1)对称，不是关于原点，也不关于$y$轴对称，肯定不具有奇偶性，需要变形（平移）。下称一个单位即可关于(0,0)对称。设新函数为$g(x)$，则有：

$f(x)=g(x)+1$，则$g(x-1)+1+g(x)+1<2$。利用\textbf{f、f在两边}把$g(x)$分成两边：

$g(x-1)<-g(x)$，$g(x)$又是奇函数，因此$g(x-1)<g(-x)$；再利用单调减得（取交集）：
\[
x的取值范围：
\begin{cases}
x-1>-x\\
-1<x<1\\
-1<x-1<1
\end{cases}
\]

\end{liti}


\begin{liti}
\textcolor{red}{\bfseries 2024重庆期中} 函数$f(x)$偶函数，且$f(x)$在$(0,+\infty)$上是增函数，$x\in[\dfrac{1}{2},1]$时，不等式$f(ax+1)\leq f(x-2)$恒成立，则实数$a$的取值范围是
\begin{choices}
\item [-2,2]
\item [-2,0]
\item [0,2]
\item (-2,2)
\end{choices}
\tcblower\kaishu\small
按前面所述，\textbf{f,f分两边}，现在已经分两边了，再利用单调性，则实数$a$需要同时满足以下几个条件（取交集）
\[\begin{cases}
ax+1\leq x-2\\
\dfrac{1}{2}\leq x-2 \leq 1\\
\dfrac{1}{2}\leq ax+1 \leq 1
\end{cases}\]

\end{liti}
\end{document}
